{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport scheduleData from \"../../data/schedule-data.json\";\nimport { DELETE_SCHEDULE, CREATE_SCHEDULE, UPDATE_SCHEDULE } from \"../actions/schedules\";\nimport Schedule from \"../../models/Schedule\";\nvar initialState = {\n  schedules: scheduleData\n};\n\nvar scheduleReducer = function scheduleReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case CREATE_SCHEDULE:\n      var newSchedule = new Schedule(1, new Date().toString(), action.scheduleData.title, action.scheduleData.date_time);\n      return {\n        schedules: state.schedules.concat(newSchedule)\n      };\n\n    case UPDATE_SCHEDULE:\n      console.log(\"Action id \", action.scheduleData.id);\n      var index = state.schedules.findIndex(function (schedule) {\n        return schedule.id === action.scheduleData.id;\n      });\n      console.log(\"Index \", index);\n      var updatedSchedule = new Schedule(1, action.scheduleData.id, action.scheduleData.title, action.scheduleData.date_time);\n\n      var updatedSchedules = _toConsumableArray(state.schedules);\n\n      updatedSchedules[index] = updatedSchedule;\n      console.log(updatedSchedules[0]);\n      return {\n        schedules: updatedSchedules\n      };\n\n    case DELETE_SCHEDULE:\n      return {\n        schedules: state.schedules.filter(function (schedule) {\n          return schedule.id !== action.id;\n        })\n      };\n  }\n\n  return state;\n};\n\nexport default scheduleReducer;","map":{"version":3,"sources":["/Users/sachi/Desktop/e17-3yp-Smart-Pet-Feeder/MobileApp/store/reducer/schedules.js"],"names":["scheduleData","DELETE_SCHEDULE","CREATE_SCHEDULE","UPDATE_SCHEDULE","Schedule","initialState","schedules","scheduleReducer","state","action","type","newSchedule","Date","toString","title","date_time","concat","console","log","id","index","findIndex","schedule","updatedSchedule","updatedSchedules","filter"],"mappings":";AAAA,OAAOA,YAAP;AACA,SACEC,eADF,EAEEC,eAFF,EAGEC,eAHF;AAMA,OAAOC,QAAP;AAEA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,SAAS,EAAEN;AADQ,CAArB;;AAIA,IAAMO,eAAe,GAAG,SAAlBA,eAAkB,GAAkC;AAAA,MAAjCC,KAAiC,uEAAzBH,YAAyB;AAAA,MAAXI,MAAW;;AACxD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKR,eAAL;AACE,UAAMS,WAAW,GAAG,IAAIP,QAAJ,CAClB,CADkB,EAElB,IAAIQ,IAAJ,GAAWC,QAAX,EAFkB,EAGlBJ,MAAM,CAACT,YAAP,CAAoBc,KAHF,EAIlBL,MAAM,CAACT,YAAP,CAAoBe,SAJF,CAApB;AAMA,aAAO;AACLT,QAAAA,SAAS,EAAEE,KAAK,CAACF,SAAN,CAAgBU,MAAhB,CAAuBL,WAAvB;AADN,OAAP;;AAIF,SAAKR,eAAL;AACEc,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BT,MAAM,CAACT,YAAP,CAAoBmB,EAA9C;AACA,UAAMC,KAAK,GAAGZ,KAAK,CAACF,SAAN,CAAgBe,SAAhB,CACZ,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACH,EAAT,KAAgBV,MAAM,CAACT,YAAP,CAAoBmB,EAAlD;AAAA,OADY,CAAd;AAGAF,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBE,KAAtB;AACA,UAAMG,eAAe,GAAG,IAAInB,QAAJ,CACtB,CADsB,EAEtBK,MAAM,CAACT,YAAP,CAAoBmB,EAFE,EAGtBV,MAAM,CAACT,YAAP,CAAoBc,KAHE,EAItBL,MAAM,CAACT,YAAP,CAAoBe,SAJE,CAAxB;;AAOA,UAAMS,gBAAgB,sBAAOhB,KAAK,CAACF,SAAb,CAAtB;;AACAkB,MAAAA,gBAAgB,CAACJ,KAAD,CAAhB,GAA0BG,eAA1B;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAYM,gBAAgB,CAAC,CAAD,CAA5B;AAEA,aAAO;AACLlB,QAAAA,SAAS,EAAEkB;AADN,OAAP;;AAIF,SAAKvB,eAAL;AACE,aAAO;AACLK,QAAAA,SAAS,EAAEE,KAAK,CAACF,SAAN,CAAgBmB,MAAhB,CACT,UAACH,QAAD;AAAA,iBAAcA,QAAQ,CAACH,EAAT,KAAgBV,MAAM,CAACU,EAArC;AAAA,SADS;AADN,OAAP;AAlCJ;;AAwCA,SAAOX,KAAP;AACD,CA1CD;;AA4CA,eAAeD,eAAf","sourcesContent":["import scheduleData from \"../../data/schedule-data.json\";\nimport {\n  DELETE_SCHEDULE,\n  CREATE_SCHEDULE,\n  UPDATE_SCHEDULE,\n} from \"../actions/schedules\";\n\nimport Schedule from \"../../models/Schedule\";\n\nconst initialState = {\n  schedules: scheduleData,\n};\n\nconst scheduleReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CREATE_SCHEDULE:\n      const newSchedule = new Schedule(\n        1,\n        new Date().toString(),\n        action.scheduleData.title,\n        action.scheduleData.date_time\n      );\n      return {\n        schedules: state.schedules.concat(newSchedule),\n      };\n\n    case UPDATE_SCHEDULE:\n      console.log(\"Action id \", action.scheduleData.id);\n      const index = state.schedules.findIndex(\n        (schedule) => schedule.id === action.scheduleData.id\n      );\n      console.log(\"Index \", index);\n      const updatedSchedule = new Schedule(\n        1,\n        action.scheduleData.id,\n        action.scheduleData.title,\n        action.scheduleData.date_time\n      );\n      // console.log(\"Updated :\", updatedSchedule);\n      const updatedSchedules = [...state.schedules];\n      updatedSchedules[index] = updatedSchedule;\n      console.log(updatedSchedules[0]);\n\n      return {\n        schedules: updatedSchedules,\n      };\n\n    case DELETE_SCHEDULE:\n      return {\n        schedules: state.schedules.filter(\n          (schedule) => schedule.id !== action.id\n        ),\n      };\n  }\n  return state;\n};\n\nexport default scheduleReducer;\n"]},"metadata":{},"sourceType":"module"}